{% extends "base.html" %}

{% block title %}Relatórios - Sistema de Gestão Financeira{% endblock %}

{% block page_title %}Relatórios{% endblock %}

{% block content %}
<div class="modern-panel">
    <!-- Cabeçalho -->
    <div class="modern-panel-header">
        <h5 class="modern-panel-title">
            <i class="fas fa-chart-bar"></i> Relatórios
        </h5>
    </div>

    <!-- Cards de relatórios -->
    <div class="card-body" style="background:#fff; border: 1px solid #e2e8f0; border-top: none; border-radius: 0 0 10px 10px; padding: 24px;">
        <div class="row g-4">

            <!-- Relatório de Saldos -->
            <div class="col-md-6 col-lg-4">
                <div class="card h-100" style="border: 1px solid #e2e8f0; border-top: 3px solid #667eea;">
                    <div class="card-body text-center p-4">
                        <div style="width:60px;height:60px;border-radius:14px;background:#ede9fe;display:flex;align-items:center;justify-content:center;margin:0 auto 16px;">
                            <i class="fas fa-balance-scale fa-xl" style="color:#667eea;"></i>
                        </div>
                        <h5 class="fw-700 mb-2" style="font-size:1rem;color:#334155;">Relatório de Saldos</h5>
                        <p class="text-muted mb-4" style="font-size:0.85rem;">Visualize entradas, saídas e saldo geral organizados por categoria.</p>
                        <a href="{{ url_for('relatorio_saldos') }}" class="btn btn-primary w-100">
                            <i class="fas fa-eye me-2"></i>Visualizar
                        </a>
                    </div>
                </div>
            </div>

            <!-- Relatório de Lançamentos -->
            <div class="col-md-6 col-lg-4">
                <div class="card h-100" style="border: 1px solid #e2e8f0; border-top: 3px solid #667eea;">
                    <div class="card-body text-center p-4">
                        <div style="width:60px;height:60px;border-radius:14px;background:#ede9fe;display:flex;align-items:center;justify-content:center;margin:0 auto 16px;">
                            <i class="fas fa-money-bill-wave fa-xl" style="color:#667eea;"></i>
                        </div>
                        <h5 class="fw-700 mb-2" style="font-size:1rem;color:#334155;">Relatório de Lançamentos</h5>
                        <p class="text-muted mb-4" style="font-size:0.85rem;">Filtre e analise todos os lançamentos financeiros com opções avançadas.</p>
                        <a href="{{ url_for('relatorio_lancamentos') }}" class="btn btn-primary w-100">
                            <i class="fas fa-filter me-2"></i>Visualizar
                        </a>
                    </div>
                </div>
            </div>

            <!-- Relatório de Clientes -->
            <div class="col-md-6 col-lg-4">
                <div class="card h-100" style="border: 1px solid #e2e8f0; border-top: 3px solid #667eea;">
                    <div class="card-body text-center p-4">
                        <div style="width:60px;height:60px;border-radius:14px;background:#ede9fe;display:flex;align-items:center;justify-content:center;margin:0 auto 16px;">
                            <i class="fas fa-users fa-xl" style="color:#667eea;"></i>
                        </div>
                        <h5 class="fw-700 mb-2" style="font-size:1rem;color:#334155;">Relatório de Clientes</h5>
                        <p class="text-muted mb-4" style="font-size:0.85rem;">Analise o histórico de vendas e saldos de todos os clientes.</p>
                        <a href="{{ url_for('relatorio_clientes') }}" class="btn btn-primary w-100">
                            <i class="fas fa-chart-line me-2"></i>Visualizar
                        </a>
                    </div>
                </div>
            </div>

            <!-- Relatório de Fornecedores -->
            <div class="col-md-6 col-lg-4">
                <div class="card h-100" style="border: 1px solid #e2e8f0; border-top: 3px solid #667eea;">
                    <div class="card-body text-center p-4">
                        <div style="width:60px;height:60px;border-radius:14px;background:#ede9fe;display:flex;align-items:center;justify-content:center;margin:0 auto 16px;">
                            <i class="fas fa-truck fa-xl" style="color:#667eea;"></i>
                        </div>
                        <h5 class="fw-700 mb-2" style="font-size:1rem;color:#334155;">Relatório de Fornecedores</h5>
                        <p class="text-muted mb-4" style="font-size:0.85rem;">Visualize o histórico de compras e gastos com fornecedores.</p>
                        <a href="{{ url_for('relatorio_fornecedores') }}" class="btn btn-primary w-100">
                            <i class="fas fa-chart-pie me-2"></i>Visualizar
                        </a>
                    </div>
                </div>
            </div>

            <!-- DRE -->
            <div class="col-md-6 col-lg-4">
                <div class="card h-100" style="border: 1px solid #e2e8f0; border-top: 3px solid #667eea;">
                    <div class="card-body text-center p-4">
                        <div style="width:60px;height:60px;border-radius:14px;background:#ede9fe;display:flex;align-items:center;justify-content:center;margin:0 auto 16px;">
                            <i class="fas fa-file-invoice-dollar fa-xl" style="color:#667eea;"></i>
                        </div>
                        <h5 class="fw-700 mb-2" style="font-size:1rem;color:#334155;">DRE - Resultado do Exercício</h5>
                        <p class="text-muted mb-4" style="font-size:0.85rem;">Demonstração do resultado: entradas, saídas e lucro líquido do período.</p>
                        <div class="d-flex gap-2">
                            <a href="{{ url_for('dre_visualizar') }}" class="btn btn-primary flex-grow-1">
                                <i class="fas fa-eye me-1"></i>Visualizar
                            </a>
                            <a href="{{ url_for('dre_configurar') }}" class="btn btn-outline-secondary">
                                <i class="fas fa-cog"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Relatório de Produtos (apenas comércio/indústria) -->
            {% if usuario and usuario.empresa and usuario.empresa.tipo_empresa in ['comercio', 'industria'] %}
            <div class="col-md-6 col-lg-4">
                <div class="card h-100" style="border: 1px solid #e2e8f0; border-top: 3px solid #667eea;">
                    <div class="card-body text-center p-4">
                        <div style="width:60px;height:60px;border-radius:14px;background:#ede9fe;display:flex;align-items:center;justify-content:center;margin:0 auto 16px;">
                            <i class="fas fa-box fa-xl" style="color:#667eea;"></i>
                        </div>
                        <h5 class="fw-700 mb-2" style="font-size:1rem;color:#334155;">Relatório de Produtos</h5>
                        <p class="text-muted mb-4" style="font-size:0.85rem;">Descubra os produtos mais vendidos e sua performance.</p>
                        <a href="{{ url_for('relatorio_produtos') }}" class="btn btn-primary w-100">
                            <i class="fas fa-trophy me-2"></i>Visualizar
                        </a>
                    </div>
                </div>
            </div>

            <!-- Relatório de Estoque -->
            <div class="col-md-6 col-lg-4">
                <div class="card h-100" style="border: 1px solid #e2e8f0; border-top: 3px solid #667eea;">
                    <div class="card-body text-center p-4">
                        <div style="width:60px;height:60px;border-radius:14px;background:#ede9fe;display:flex;align-items:center;justify-content:center;margin:0 auto 16px;">
                            <i class="fas fa-warehouse fa-xl" style="color:#667eea;"></i>
                        </div>
                        <h5 class="fw-700 mb-2" style="font-size:1rem;color:#334155;">Relatório de Estoque</h5>
                        <p class="text-muted mb-4" style="font-size:0.85rem;">Visualize estoque atual ou em data específica. Analise níveis e margens.</p>
                        <a href="{{ url_for('relatorio_estoque') }}" class="btn btn-primary w-100">
                            <i class="fas fa-clipboard-list me-2"></i>Visualizar
                        </a>
                    </div>
                </div>
            </div>
            {% endif %}

        </div>

        <!-- Dicas -->
        {% if usuario and usuario.empresa and usuario.empresa.tipo_empresa not in ['comercio', 'industria'] %}
        <div class="alert alert-info mt-4" style="font-size:0.85rem;">
            <i class="fas fa-info-circle me-2"></i>
            <strong>Dica:</strong> Relatórios de produtos e estoque estão disponíveis apenas para empresas de comércio ou indústria.
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
